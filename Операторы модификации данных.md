Для выполнения операций добавления, изменения и удаления данных используются следующие операторы:
- `INSERT`: вставка новых строк,
- `UPDATE`: изменение значений столбцов,
- `MERGE`: слияние строк,
- `DELETE`: удаление строк

Если при выполнении операторов модификации данных будет нарушено ограничение ссылочной целостности, то операторы не выполняются, а выводится сообщение об ошибке.

Эти операторы не осуществляют вывод измененных данных, отображается только число модифицированных строк. Для вывода данных, которые были изменены, следует добавить предложение
```sql
RETURNING * | [list of cols]
```
### Оператор `INSERT`

Оператор `INSERT` для добавления одной строки имеет следующий формат
```sql
INSERT table_name [list_of_cols] VALUES (list_of_values)
```

Добавление данных о товаре
```sql
INSERT INTO products VALUES (88, 'Asus X540LB', 4, 1800);
```

При создании таблицы для каждого столбца можно задать значение по умолчанию (`DEFAULT`). Для того чтобы столбцу при вставке новых строк было присвоено значение по умолчанию, нужно в списке значений указать служебное слово `DEFAULT`. Однако, даже если служебное слово `DEFAULT` будет отсутствовать в предложении `VALUES`, значение по умолчанию все равно будет присвоено.
```sql
INSERT INTO orders(order_id, customer_id, salesman_id, order_date, status) VALUES (105, 18, 175, DEFAULT, DEFAULT)
RETURNING *;
```
Если указать значение `DEFAULT` для столбца, у которого не задано значение по умолчанию, то ему будет присвоено значение `NULL`.

Можно вставить в таблицу несколько строк, сформированных в результате выполнения оператора `SELECT`. В этом случае оператор `INSERT` должен иметь следующий формат
```sql
INSERT table_name [list_of_cols]
SELECT [list_of_cols] text_of_query;
```

Списки столбцов после имени таблицы и после `SELECT` должны совпадать. Если список столбцов, которые возвращает запрос, точно соответствует списку столбцов таблицы, то список столбцов после элемента имя таблицы можно не указывать.
```sql
INSERT INTO products_total
SELECT
  pr.product_id,
  pr.product_name,
  pr.rating_p,
  SUM(quantity) AS quantity
FROM products pr JOIN order_items oi ON (pr.product_id = oi.product_id)
GROUP BY 1, 2, 3;
```

Можно создать новую таблицу и заполнить ее данными, используя один оператор, который имеет следующий синтаксис
```sql
CREATE TABLE table_name AS
SELECT ...
```

Создать копию таблицы `products` и заполнить ее данными о товарах, которые ни разу не продавались
```sql
CREATE TABLE products_ns AS
SELECT
  *
FROM products 
WHERE product_id NOT IN (
  SELECT DISTINCT
    product_id
  FROM order_items
);
```

### Оператор `UPDATE`

Оператор `UPDATE` используется для изменения существующих строк в таблице и имеет следующий синтаксис
```sql
UPDATE {table_name}
SET col = {value}|{expression}|{query}
WHERE {cond};
```

Этот оператор изменяет значения столбцов тех строк, которые удовлетворяют заданным условиям. Следует обратить внимание на то, что новое значение столбца может быть результатом запроса, который возвращает скалярное значение.
```sql
UPDATE employees
SET salary = 8500
WHERE employee_id = 110;
```

Увеличить на 10% зарплату сотрудников, работающих в отделе 70
```sql
UPDATE employees
SET salary = salary * 1.1
WHERE department_id = 70;
```

Можно изменить значения нескольких столбцов в одном операторе `UPDATE`
```sql
UPDATE employees
SET job_id = 'SA_MAN', salary = 10000, rating_e = 4
WHERE employee_id = 122;
```

Присваиваемое значение может быть результатом выполнения запроса, который возвращает одну строку.

Сотруднику 122 изменить значение столбца `department_id` на значение, которое имеет этот столбец у сотрудника 147
```sql
UPDATE employees
SET department_id = (
  SELECT
    department_id
  FROM employees
  WHERE employee_id = 147
)
WHERE employee_id = 122;
```

Сотруднику 122 изменить значение столбца `department_id` и `job_id` на значение, которые имеют эти столбцы у сотрудника 147
```sql
UPDATE employees
SET (department_id, job_id) = (
  SELECT
    department_id,
    job_id
  FROM employees
  WHERE employee_id = 147
)
WHERE employee_id = 122
```